{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst items = {\n  form: document.querySelector('.feedback-form'),\n  textarea: document.querySelector('.feedback-form textarea'),\n  input: document.querySelector('.feedback-form input'),\n};\n\nlet dataForm = {};\n\nitems.form.addEventListener('input', throttle(onInput, 500));\nitems.form.addEventListener('submit', onFormSubmit);\n\nonReload();\n\nfunction onInput(event) {\n  dataForm = {\n    email: items.input.value.trim(),\n    message: items.textarea.value.trim(),\n  };\n  \n  localStorage.setItem(STORAGE_KEY, JSON.stringify(dataForm));\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  if (items.input.value === '' || items.textarea.value === '') {\n    return alert('Please fill in all the blanks');\n  }\n  let data = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  event.currentTarget.reset();\n  localStorage.removeItem(STORAGE_KEY);\n  console.log(dataForm);\n}\n\nfunction onReload() {\n  const savedMessage = localStorage.getItem(STORAGE_KEY);\n  if (savedMessage) {\n    dataForm = JSON.parse(savedMessage);\n    items.input.value = dataForm.email;\n    items.textarea.value = dataForm.message;\n  }\n}"],"names":["STORAGE_KEY","items","dataForm","throttle","onInput","onFormSubmit","onReload","event","savedMessage"],"mappings":"wIACA,MAAMA,EAAc,sBAEdC,EAAQ,CACZ,KAAM,SAAS,cAAc,gBAAgB,EAC7C,SAAU,SAAS,cAAc,yBAAyB,EAC1D,MAAO,SAAS,cAAc,sBAAsB,CACtD,EAEA,IAAIC,EAAW,CAAA,EAEfD,EAAM,KAAK,iBAAiB,QAASE,EAASC,EAAS,GAAG,CAAC,EAC3DH,EAAM,KAAK,iBAAiB,SAAUI,CAAY,EAElDC,IAEA,SAASF,EAAQG,EAAO,CACtBL,EAAW,CACT,MAAOD,EAAM,MAAM,MAAM,KAAM,EAC/B,QAASA,EAAM,SAAS,MAAM,KAAM,CACxC,EAEE,aAAa,QAAQD,EAAa,KAAK,UAAUE,CAAQ,CAAC,CAC5D,CAEA,SAASG,EAAaE,EAAO,CAE3B,GADAA,EAAM,eAAc,EAChBN,EAAM,MAAM,QAAU,IAAMA,EAAM,SAAS,QAAU,GACvD,OAAO,MAAM,+BAA+B,EAEnC,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,EAEvDO,EAAM,cAAc,QACpB,aAAa,WAAWP,CAAW,EACnC,QAAQ,IAAIE,CAAQ,CACtB,CAEA,SAASI,GAAW,CAClB,MAAME,EAAe,aAAa,QAAQR,CAAW,EACjDQ,IACFN,EAAW,KAAK,MAAMM,CAAY,EAClCP,EAAM,MAAM,MAAQC,EAAS,MAC7BD,EAAM,SAAS,MAAQC,EAAS,QAEpC"}